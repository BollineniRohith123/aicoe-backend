<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness Tracking App - System Architecture</title>
    <style>
        :root {
            /* Primary Colors */
            --aicoe-primary-navy: #1a1a2e;
            --aicoe-midnight-blue: #2a2a3e;
            --aicoe-deep-purple: #3a2a4e;

            /* Accent Colors */
            --aicoe-accent-pink: #ff69b4;
            --aicoe-accent-cyan: #00ffcc;
            --aicoe-accent-turquoise: #00e5b3;

            /* Text Colors */
            --aicoe-text-primary: #1a1a1a;
            --aicoe-text-secondary: #6e6e73;

            /* Background Colors */
            --aicoe-bg-white: #ffffff;
            --aicoe-bg-gray: #f5f5f7;
            --aicoe-bg-dark: #1d1d1f;

            /* Semantic Colors */
            --aicoe-success: #34c759;
            --aicoe-warning: #ff9500;
            --aicoe-error: #ff3b30;
            --aicoe-info: #007aff;

            /* Gradients */
            --aicoe-gradient-primary: linear-gradient(135deg, var(--aicoe-accent-pink), var(--aicoe-accent-cyan));
            --aicoe-gradient-secondary: linear-gradient(135deg, var(--aicoe-primary-navy), var(--aicoe-deep-purple));

            /* Font Family */
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;

            /* Type Scale (Fluid Typography) */
            --font-hero: clamp(2.5rem, 5vw, 4rem);
            --font-h1: clamp(2rem, 4vw, 3rem);
            --font-h2: clamp(1.5rem, 3vw, 2.25rem);
            --font-h3: clamp(1.25rem, 2.5vw, 1.75rem);
            --font-h4: 1.125rem;
            --font-body: 1rem;
            --font-small: 0.875rem;
            --font-tiny: 0.75rem;

            /* Font Weights */
            --font-light: 300;
            --font-regular: 400;
            --font-medium: 500;
            --font-semibold: 600;
            --font-bold: 700;

            /* Line Heights */
            --line-tight: 1.2;
            --line-normal: 1.5;
            --line-relaxed: 1.75;

            /* Spacing System (8px Grid) */
            --space-xs: 0.5rem;
            --space-sm: 1rem;
            --space-md: 1.5rem;
            --space-lg: 2rem;
            --space-xl: 2.5rem;
            --space-2xl: 3rem;
            --space-3xl: 4rem;
            --space-4xl: 5rem;

            /* Shadow System (Elevation) */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);

            /* Border Radius */
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
            --radius-full: 9999px;

            /* Transitions & Animations */
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-base: 300ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            font-size: var(--font-body);
            line-height: var(--line-normal);
            color: var(--aicoe-text-primary);
            background: var(--aicoe-bg-gray);
            scroll-behavior: smooth;
        }

        html { scroll-behavior: smooth; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-lg);
        }

        .grid {
            display: grid;
            gap: var(--space-lg);
        }

        .grid-2 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
        .grid-4 { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }

        .card {
            background: var(--aicoe-bg-white);
            border-radius: var(--radius-2xl);
            padding: var(--space-xl);
            box-shadow: var(--shadow-md);
            transition: all var(--transition-base);
            animation: fadeIn 0.6s ease-out;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .card-glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-sm) var(--space-lg);
            border-radius: var(--radius-lg);
            font-weight: var(--font-medium);
            font-size: var(--font-body);
            transition: all var(--transition-base);
            cursor: pointer;
            border: none;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--aicoe-gradient-primary);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: var(--aicoe-bg-white);
            color: var(--aicoe-primary-navy);
            border: 2px solid var(--aicoe-primary-navy);
        }

        .btn-secondary:hover {
            background: var(--aicoe-primary-navy);
            color: white;
        }

        header {
            background: var(--aicoe-gradient-secondary);
            color: white;
            padding: var(--space-2xl) 0;
            text-align: center;
        }

        header h1 {
            font-size: var(--font-hero);
            font-weight: var(--font-bold);
            margin-bottom: var(--space-md);
        }

        header p {
            font-size: var(--font-h4);
            opacity: 0.9;
        }

        section {
            padding: var(--space-3xl) 0;
        }

        section h2 {
            font-size: var(--font-h2);
            font-weight: var(--font-semibold);
            margin-bottom: var(--space-xl);
            text-align: center;
            color: var(--aicoe-primary-navy);
        }

        .overview p {
            font-size: var(--font-body);
            line-height: var(--line-relaxed);
            margin-bottom: var(--space-lg);
            text-align: center;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .diagram-container {
            background: var(--aicoe-bg-white);
            border-radius: var(--radius-2xl);
            padding: var(--space-xl);
            box-shadow: var(--shadow-lg);
            margin-bottom: var(--space-2xl);
        }

        .mermaid {
            width: 100%;
            height: auto;
            min-height: 600px;
        }

        .component-card {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .component-card .icon {
            width: 48px;
            height: 48px;
            margin-bottom: var(--space-md);
            color: var(--aicoe-accent-cyan);
        }

        .component-card h3 {
            font-size: var(--font-h4);
            font-weight: var(--font-semibold);
            margin-bottom: var(--space-sm);
            color: var(--aicoe-primary-navy);
        }

        .component-card p {
            font-size: var(--font-small);
            line-height: var(--line-normal);
            color: var(--aicoe-text-secondary);
        }

        footer {
            background: var(--aicoe-primary-navy);
            color: white;
            padding: var(--space-xl) 0;
            text-align: center;
        }

        footer .logo {
            font-size: var(--font-h2);
            font-weight: var(--font-bold);
            background: var(--aicoe-gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--space-sm);
        }

        footer p {
            font-size: var(--font-small);
            opacity: 0.8;
        }

        @media (min-width: 640px) { /* sm */ }
        @media (min-width: 768px) { /* md */ }
        @media (min-width: 1024px) { /* lg */ }
        @media (min-width: 1280px) { /* xl */ }
        @media (min-width: 1536px) { /* 2xl */ }

        @media print {
            body { background: white; }
            .card { box-shadow: none; border: 1px solid #ccc; }
            .diagram-container { page-break-inside: avoid; }
        }
    </style>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <h1>Fitness Tracking App</h1>
            <p>System Architecture Documentation</p>
        </div>
    </header>

    <main>
        <section class="overview">
            <div class="container">
                <h2>Architecture Overview</h2>
                <p>This architecture for the Fitness Tracking App adopts a microservices-based design leveraging open-source technologies to ensure scalability, security, and compliance with GDPR, CCPA, and HIPAA. It incorporates AI-driven personalization, wearable integrations via APIs like Google Fit and HealthKit, gamification for social engagement, and holistic wellness features including mental health and nutrition tracking. Key patterns include API Gateway for IoT ecosystems, OAuth 2.0 for secure authentication, data encryption (AES-256), and event-driven messaging for real-time processing. The design prioritizes user-centric UX with real-time dashboards, predictive analytics, and ethical AI use, differentiating from competitors like Fitbit, MyFitnessPal, and Strava by offering a comprehensive, privacy-focused platform.</p>
            </div>
        </section>

        <section class="diagram">
            <div class="container">
                <h2>Interactive System Diagram</h2>
                <div class="diagram-container">
                    <div class="mermaid">
                        graph TD
                            %% Frontend Layer
                            A[React Native Mobile App] -->|HTTPS/REST| B[API Gateway - Kong]
                            A2[React Web App] -->|HTTPS/REST| B

                            %% API Gateway & Security
                            B --> C[Auth Service - OAuth 2.0 with MFA]
                            C --> D[Identity Provider - Keycloak]
                            B --> E[Rate Limiter & Encryption Layer - AES-256]

                            %% Backend Services
                            B --> F[User Service - Profile Management]
                            B --> G[Activity Tracking Service - Real-Time Sync]
                            B --> H[Recommendation Engine - AI/ML Service]
                            B --> I[Nutrition Service - Meal Logging]
                            B --> J[Social & Gamification Service - Leaderboards & Challenges]
                            B --> K[Mental Health Service - Mood Tracking]

                            %% Data Layer
                            F --> L[(PostgreSQL - User Profiles & Compliance Logs)]
                            G --> M[(MongoDB - Activity Data & Wearable Sync)]
                            H --> N[(Redis Cache - Personalized Insights)]
                            I --> O[(PostgreSQL - Nutrition Data)]
                            J --> P[(MongoDB - Social Interactions)]
                            K --> Q[(PostgreSQL - Mental Health Entries)]

                            %% Message Queue & Async Processing
                            G --> R[Message Queue - Kafka]
                            R --> S[Background Workers - Data Aggregation & Notifications]
                            H --> R
                            I --> R
                            K --> R

                            %% External Integrations
                            G --> T[Third-Party APIs - Google Fit, HealthKit, Fitbit]
                            H --> U[AI/ML Engine - TensorFlow/OpenAI API]
                            J --> V[Social Platforms - OAuth Secured Sharing]
                            B --> W[Cloud Storage - MinIO/S3 for Media & Logs]
                            E --> X[Audit & Compliance Service - GDPR/CCPA Logs]

                            %% Monitoring & Infrastructure
                            Y[Monitoring - Prometheus/Grafana] --> B
                            Y --> F
                            Y --> G
                            Y --> H
                            Y --> I
                            Y --> J
                            Y --> K
                            Z[CDN - Cloudflare] --> A
                            Z --> A2
                    </div>
                </div>
            </div>
        </section>

        <section class="components">
            <div class="container">
                <h2>Component Breakdown</h2>
                <div class="grid grid-3">
                    <div class="card component-card">
                        <i data-lucide="smartphone" class="icon"></i>
                        <h3>React Native Mobile App</h3>
                        <p>Cross-platform mobile application for iOS and Android, built with React Native, providing real-time activity tracking, wearable integration, gamified dashboards, and offline support for UC-002, with intuitive UX for holistic wellness features like mental health prompts.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="monitor" class="icon"></i>
                        <h3>React Web App</h3>
                        <p>Responsive web application using React and TypeScript, offering desktop access to tracking, recommendations, and social features, with real-time visualizations and accessibility compliance for UC-003.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="gateway" class="icon"></i>
                        <h3>API Gateway - Kong</h3>
                        <p>Open-source API gateway (Kong) managing routing, load balancing, rate limiting, and security for all incoming requests, integrating with wearables via HealthKit/Google Fit APIs for seamless IoT data syncing in UC-002.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="shield" class="icon"></i>
                        <h3>Auth Service - OAuth 2.0 with MFA</h3>
                        <p>Microservice handling user registration, authentication, and MFA using OAuth 2.0/OpenID Connect with Keycloak, ensuring secure sessions, third-party logins, and compliance with GDPR/CCPA for UC-001.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="key" class="icon"></i>
                        <h3>Identity Provider - Keycloak</h3>
                        <p>Open-source identity and access management tool integrated with Auth Service for user federation, token management, and audit logging to support secure multi-factor authentication.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="lock" class="icon"></i>
                        <h3>Rate Limiter & Encryption Layer - AES-256</h3>
                        <p>Security layer enforcing API rate limits and encrypting data in transit/rest using AES-256, with consent management for data processing to align with privacy regulations and ethical AI use.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="user" class="icon"></i>
                        <h3>User Service - Profile Management</h3>
                        <p>Microservice for user profiles, preferences, and consent handling, storing encrypted data in PostgreSQL, supporting UC-001 and enabling personalized features across the app.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="activity" class="icon"></i>
                        <h3>Activity Tracking Service - Real-Time Sync</h3>
                        <p>Core service for syncing wearable data (steps, heart rate, workouts) via APIs, providing real-time feedback and battery-optimized processing for UC-002, with offline storage capabilities.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="brain" class="icon"></i>
                        <h3>Recommendation Engine - AI/ML Service</h3>
                        <p>AI-driven microservice using TensorFlow or OpenAI APIs for personalized workout plans, predictive health insights, and adaptive recommendations based on user data patterns, addressing UC-003 with ethical compliance.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="apple" class="icon"></i>
                        <h3>Nutrition Service - Meal Logging</h3>
                        <p>Service for calorie counting, meal logging, and diet integration, storing data in PostgreSQL and syncing with activity metrics for comprehensive wellness tracking.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="trophy" class="icon"></i>
                        <h3>Social & Gamification Service - Leaderboards & Challenges</h3>
                        <p>Microservice managing social sharing, leaderboards, badges, and challenges using secure OAuth, fostering community engagement and motivation as per gamification trends.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="heart" class="icon"></i>
                        <h3>Mental Health Service - Mood Tracking</h3>
                        <p>Service for logging mood, stress, and mental health prompts, integrating with AI for holistic insights and ensuring HIPAA considerations for sensitive data.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="database" class="icon"></i>
                        <h3>PostgreSQL - User Profiles & Compliance Logs</h3>
                        <p>Relational database for structured user data, compliance logs, and audit trails, supporting ACID transactions and GDPR deletion/portability rights.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="database" class="icon"></i>
                        <h3>MongoDB - Activity Data & Wearable Sync</h3>
                        <p>NoSQL database for flexible storage of activity logs, wearable sync data, and social interactions, enabling scalable document-based queries for real-time analytics.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="zap" class="icon"></i>
                        <h3>Redis Cache - Personalized Insights</h3>
                        <p>In-memory cache for fast retrieval of user sessions, AI-generated insights, and real-time dashboard data, optimizing performance for UC-002 and UC-003.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="database" class="icon"></i>
                        <h3>PostgreSQL - Nutrition Data</h3>
                        <p>Relational database dedicated to nutrition logs, ensuring data integrity for meal plans and calorie tracking integrations.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="database" class="icon"></i>
                        <h3>MongoDB - Social Interactions</h3>
                        <p>NoSQL database for storing social posts, challenges, and user interactions, supporting dynamic gamification features.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="database" class="icon"></i>
                        <h3>PostgreSQL - Mental Health Entries</h3>
                        <p>Relational database for secure, structured storage of mental health data with encryption, complying with privacy regulations.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="message-square" class="icon"></i>
                        <h3>Message Queue - Kafka</h3>
                        <p>Event-driven message queue using Apache Kafka for asynchronous processing of data aggregation, notifications, and AI computations across services.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="cpu" class="icon"></i>
                        <h3>Background Workers - Data Aggregation & Notifications</h3>
                        <p>Worker processes handling async tasks like data syncing, push notifications, and predictive analytics, ensuring scalability for real-time features.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="link" class="icon"></i>
                        <h3>Third-Party APIs - Google Fit, HealthKit, Fitbit</h3>
                        <p>External integrations for wearable data syncing, using open-source APIs to enable IoT ecosystems and real-time feedback in UC-002.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="brain-circuit" class="icon"></i>
                        <h3>AI/ML Engine - TensorFlow/OpenAI API</h3>
                        <p>External or hosted AI service for machine learning models, providing personalized recommendations and predictive insights with transparency for ethical compliance.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="share" class="icon"></i>
                        <h3>Social Platforms - OAuth Secured Sharing</h3>
                        <p>Integrations with platforms like Facebook/Twitter for sharing achievements, secured via OAuth to maintain privacy and enable gamification.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="cloud" class="icon"></i>
                        <h3>Cloud Storage - MinIO/S3 for Media & Logs</h3>
                        <p>Object storage for user-uploaded media (e.g., meal photos) and logs, using MinIO or S3-compatible open-source solutions for scalability and compliance.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="file-check" class="icon"></i>
                        <h3>Audit & Compliance Service - GDPR/CCPA Logs</h3>
                        <p>Service for logging user consents, data access, and deletions, supporting regulatory audits and ethical AI transparency.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="bar-chart" class="icon"></i>
                        <h3>Monitoring - Prometheus/Grafana</h3>
                        <p>Open-source monitoring stack for real-time metrics, alerting, and dashboards across all services, ensuring system health and performance optimization.</p>
                    </div>
                    <div class="card component-card">
                        <i data-lucide="globe" class="icon"></i>
                        <h3>CDN - Cloudflare</h3>
                        <p>Content delivery network for distributing static assets, reducing latency for web and mobile apps, and enhancing UX for global users.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="logo">AICOE</div>
            <p>&copy; 2023 AICOE. All rights reserved. Transforming Ideas into Reality.</p>
        </div>
    </footer>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                primaryColor: '#1a1a2e',
                primaryTextColor: '#ffffff',
                primaryBorderColor: '#00ffcc',
                lineColor: '#00ffcc',
                secondaryColor: '#2a2a3e',
                tertiaryColor: '#3a2a4e',
                fontFamily: '-apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif'
            }
        });
        lucide.createIcons();
    </script>
</body>
</html>